<!-- templates/jugadores/edit.html -->
{% extends "base.html" %}

{% block title %}Editar Jugador - {{ jugador.nombre }}{% endblock %}

{% block content %}
<h1 class="main-title">‚úçÔ∏è Editar Jugador: {{ jugador.nombre }} ‚úçÔ∏è</h1>

{% if error_message %}
    <div class="message error">{{ error_message }}</div>
{% endif %}

<form action="/jugadores_editar/{{ jugador.id }}" method="post">
    <div class="form-group">
        <label for="nombre">Nombre del Jugador:</label>
        <input type="text" id="nombre" name="nombre" value="{{ jugador.nombre }}" required>
    </div>
    <div class="form-group">
        <label for="equipo_id">Equipo:</label>
        <select id="equipo_id" name="equipo_id" required>
            <option value="">-- Selecciona un Equipo --</option>
            {% for equipo in equipos %}
                <option value="{{ equipo.id }}" {% if equipo.id == jugador.equipo_id %}selected{% endif %}>
                    {{ equipo.nombre }} ({{ equipo.pais }})
                </option>
            {% endfor %}
        </select>
    </div>
    <div class="form-group">
        <label for="posicion">Posici√≥n:</label>
        <input type="text" id="posicion" name="posicion" value="{{ jugador.posicion }}" required>
    </div>
    <div class="form-group">
        <label for="edad">Edad:</label>
        <input type="number" id="edad" name="edad" value="{{ jugador.edad }}" required min="15" max="50">
    </div>
    <div class="form-group">
        <label for="nacionalidad">Nacionalidad:</label>
        <input type="text" id="nacionalidad" name="nacionalidad" value="{{ jugador.nacionalidad }}" required>
    </div>
    <div class="form-group">
        <label for="goles">Goles (Champions 17/18):</label>
        <input type="number" id="goles" name="goles" value="{{ jugador.goles }}" min="0">
    </div>
    <div class="form-group">
        <label for="asistencias">Asistencias (Champions 17/18):</label>
        <input type="number" id="asistencias" name="asistencias" value="{{ jugador.asistencias }}" min="0">
    </div>
    <div class="form-group">
        <label for="imagen_url">URL de Imagen del Jugador:</label>
        <input type="url" id="imagen_url" name="imagen_url" value="{{ jugador.imagen_url if jugador.imagen_url else '' }}" placeholder="Ej: https://ejemplo.com/mbappe.jpg">
        <small>Puedes usar una URL externa o una ruta a tu carpeta /static/images/jugadores/.</small>
    </div>
    <div class="form-group">
        <label for="eliminado_logico">Eliminado L√≥gicamente:</label>
        <input type="checkbox" id="eliminado_logico" name="eliminado_logico" {% if jugador.eliminado_logico %}checked{% endif %}>
        <small>Marcar esta casilla para ocultar el jugador de las listas principales.</small>
    </div>
    <div class="flex-row" style="justify-content: center;">
        <button type="submit" class="button success">üíæ Guardar Cambios</button>
        <a href="/jugadores/{{ jugador.id }}" class="button primary">‚Ü©Ô∏è Cancelar</a>
    </div>
</form>
{% endblock %}
