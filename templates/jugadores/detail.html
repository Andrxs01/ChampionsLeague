<!-- templates/equipos/detail.html -->
{% extends "base.html" %}

{% block title %}Detalle del Equipo{% endblock %}

{% block content %}
<h1 class="main-title">üõ°Ô∏è Detalle del Equipo: {{ equipo.nombre }}</h1>

<div class="detail-card">
    <div class="detail-image-container">
        <img src="{{ equipo.imagen_url }}" alt="[Image of {{ equipo.nombre }}]" class="detail-img" onerror="this.onerror=null;this.src='https://placehold.co/350x350/cccccc/333333?text=Equipo+N/A';">
    </div>
    <div class="detail-info">
        <p><strong>ID:</strong> {{ equipo.id }}</p>
        <p><strong>Nombre:</strong> {{ equipo.nombre }}</p>
        <p><strong>Pa√≠s:</strong> {{ equipo.pais }}</p>
        <p><strong>Grupo:</strong> {{ equipo.grupo }}</p>
        <p><strong>Estado:</strong>
            {% if equipo.eliminado_logico %}
                <span class="status-danger">Eliminado L√≥gicamente</span>
            {% else %}
                <span class="status-success">Activo</span>
            {% endif %}
        </p>
    </div>

    <div class="flex-row detail-actions">
        <a href="/equipos_lista" class="button secondary"><i class="fas fa-arrow-left"></i> Volver a la Lista</a>
        <a href="/equipos_editar/{{ equipo.id }}" class="button warning"><i class="fas fa-edit"></i> Editar Equipo</a>
        <form action="/equipos_eliminar/{{ equipo.id }}" method="post" onsubmit="return confirm('¬øEst√°s seguro de que quieres eliminar l√≥gicamente a este equipo?');">
            <button type="submit" class="button danger"><i class="fas fa-trash-alt"></i> Eliminar Equipo</button>
        </form>
    </div>
</div>

<section class="info-section" style="margin-top: 40px;">
    <h2>‚öΩ Jugadores del Equipo: {{ equipo.nombre }} ‚öΩ</h2>
    {% if equipo.jugadores %}
        <ul class="player-list">
            {% for jugador in equipo.jugadores %}
                {% if not jugador.eliminado_logico %}
                    <li>
                        <a href="/jugadores/{{ jugador.id }}" class="text-link">
                            {{ jugador.nombre }} ({{ jugador.posicion }})
                        </a>
                    </li>
                {% endif %}
            {% endfor %}
        </ul>
    {% else %}
        <p class="no-data-message">Este equipo no tiene jugadores activos registrados.</p>
    {% endif %}
</section>
{% endblock %}
